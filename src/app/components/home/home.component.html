<button class="btn btn-info edit-button" [routerLink]="editMode ? '/home' : '/home/edit'">{{ editMode ? 'Done' : 'Edit' }}</button>

<div class="container">
	<div *ngIf="announcement.length > 0 && showAnnouncement" class="announcement alert alert-info" [class.dismissed]="dismissAnnouncement" role="alert">
		<button type="button" class="close" (click)="dismissAlert()" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
		<strong>Announcement</strong>
		<span [innerHTML]="announcement"></span>
	</div>
	<div class="grid-container">
		<gridster #gridster [options]="gridsterOptions">
			<gridster-item #gridItem *ngFor="let module of moduleLayout"
				[options]="gridsterItemOptions"
				[(x)]="module.column"
				[(y)]="module.row"
				[(w)]="module.width"
				[(h)]="module.height"
				[style.cursor]="editMode ? 'pointer' : 'initial'">

				<mymicds-module-container [moduleData]="{ type: module.type, inputs: {} }"></mymicds-module-container>
			</gridster-item>
		</gridster>
	</div>
</div>
<div *ngIf="editMode" class="modules-menu" mymicds-blur--dark>
	<p>Drag and drop modules onto the grid</p>
	<div gridsterItemPrototype
		*ngFor="let name of moduleNames"
		class="drag-module"
		[config]="{ helper: true }"
		[w]="modules[name].defaultWidth"
		[h]="modules[name].defaultHeight"
		(drop)="addModule($event, name)"
		(start)="start($event)"
		(enter)="over($event)"
		(out)="out($event)">

		<i class="fa" [ngClass]="modules[name].icon"></i>
		{{ name | capitalize }}

		<!-- <div class="gridster-item-inner" style="width: 0;height: 0;">
			<mymicds-module-container [moduleData]="{ type: name, inputs: {} }"></mymicds-module-container>
		</div> -->
	</div>
</div>
